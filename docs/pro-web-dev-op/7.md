第
7 章

移动网络集成

了解一个网站的移动用户的习惯，就等于为那个网站制定一个移动整合策略。如果你一开始就没有大量的移动网络流量，这就不是你要担心的事情，尤其是如果你有一个每月独立访问者少于 5000 人的小型商业网站。在这个层次上，网站不太可能是开展业务的主要焦点。然而，当每月的页面浏览量达到数万、数十万或数百万时，制定一个移动整合战略就变得至关重要，这意味着你需要很好地了解你的用户想要从移动体验中得到什么。

在这一章中，我们将看看移动用户如何与现有网站互动，以及如何更好地跟踪这种行为。当你考虑如何将移动应用或网站集成到现有网站时，你会希望很好地了解移动用户在网站上倾向于做什么。当然，有许多不同的方法可以做到这一点。一些预装的解决方案为移动网站的建立和运行提供了快速、简单的解决方案。更高级的解决方案通过 API 使站点可用。这样的解决方案更加复杂，但是它们通常更加灵活，并且给你更多的选择。

不同的设备，不同的体验

移动设备的数量和种类从未停止增长——这对移动网站来说可能是个问题:你需要确保所有设备的用户体验一致。一些移动操作系统制造商保持所有移动设备的属性一致，例如，设备的屏幕大小永远不会改变。这使得在移动网站上获得一致的用户体验变得很容易，无论使用什么设备或操作系统。可能只有一两种不同的屏幕尺寸和有限的一组改变事物的选项。其他移动操作平台可能有数千种设备和屏幕尺寸，具有高度的可配置性，这使得一致性更加难以实现。

知道以哪些设备为目标是很棘手的。公司并不总是有开发和 QA 资源来在每一个可能的设备上测试他们的移动应用。有一些服务，如 Keynote 和 Gomez，允许使用真实的运营商在真实的移动设备上进行自动测试，但这些服务更多的是为了跟踪移动应用程序在生产后的表现，而不是确定哪些设备是目标。

你需要做的是跟踪访问者使用哪些设备访问你的网站，并随着新设备的推出不断增加新的功能。了解用户的动向有助于你与访问你手机网站的用户保持联系。

移动网络的局限性和用户期望

在冒险创建一个移动版本的网站或集成一个本地应用程序之前，应该了解移动 Web 环境的局限性和移动用户的期望。以下是你可能要面对的问题。

用户不耐烦〔t0〕

耐心是一种美德，只是不是移动用户使用的美德，他们通常比标准用户更没有耐心。一般来说，移动用户希望得到即时响应，因此他们在移动网站或应用程序的设计或界面上遇到的任何问题都可能使他们不再回来。

人们发现，许多移动网络用户等待网页加载的时间不会超过 10 秒。大多数移动网页的加载速度与桌面计算机一样快，这意味着支持移动应用的工程团队需要实现与桌面体验相当的速度，同时克服与无线数据网络 [<sup>1</sup>](#Fn1) 相关的延迟。

以下是一些建议:

*   不要让你的移动应用程序负载过大的图片或巨大的未压缩的音频或视频动画。用户可能会喜欢它们，但不会以牺牲响应体验为代价。
*   如果您有许多静态资产，如图像和音频文件或其他非流媒体，请使用本机应用程序。请记住，目前，移动网络浏览器的缓存大小平均在 4 MB 左右，没有太多的空间来存储对象。
*   缓存，缓存，当用户连接良好时缓存重要数据，这样，如果出现连接问题或接收不良，他们仍能与应用程序交互，最重要的功能完好无损。

高延迟

移动应用运行在移动设备上，移动设备运行在某种无线网络上，无论是 WiFi 还是蜂窝数据网络。这意味着移动应用程序有一个缺点，即它们总是与高延迟网络打交道，这增加了移动网站和应用程序的响应时间。为了不打扰用户，并确保他们不会因为网速慢而责怪您的应用程序，最好在网速慢的问题出现时通知用户。

以下是克服移动网络问题的一些建议:

*   随时通知用户。网速慢会让你的移动应用程序看起来性能不佳。最好的防御是在应用程序上设置超时值，然后告知用户互联网连接可能会影响体验。确实没有办法让网络运行得更快，但是告诉用户正在发生的事情是防止他责怪你的网站或应用程序的一种方法。
*   尽可能储存。对于本机应用程序，您拥有存储空间的优势。此外，支持数据本地存储和 WebSQL 数据库的符合 HTML5 的移动 web 浏览器可以保持数据离线。使用本地存储在应用程序中的图像，然后在设备连接到网络时定期刷新它们，这是避免网络性能不佳的一种方法。

了解使用模式

移动用户的行为往往与桌面网络用户不同。他们通常希望检索一些信息并上路，除非他们使用的是高度交互式的本地应用程序，如电子商务服务或游戏。

对于许多初创公司和小公司来说，拥有移动业务可能没有任何意义。一定要研究手机网站的使用程度。手机的使用正在迅速扩大，但这并不意味着它是必要的。关键是检查你公司的内部使用模式，如果可能的话，也要检查竞争对手。

收集有关移动用户当前如何使用标准网站的信息将会产生一些信息，如是否需要移动存在，以及它是否会扩展公司的网络或在线存在。查看数据，如访问日志和网络分析，并测量网站的移动用户流量，将衡量您是否需要投资移动设备以及投资的程度。例如，如果 20%或更多的用户通过移动设备访问网站，那么这将是推出网站移动版本的有力案例。如果您的功能需要利用移动硬件或图形密集型应用程序(如游戏)的能力，那么明智的做法是考虑将本地应用程序与移动网站一起提供。

![image](img/images/sq.jpg) **注意**你可能没有现成的网站可以查看。在这种情况下，您可能会独立于任何网站开发移动应用程序，在这种情况下，您会希望使用应用内分析来确定移动应用程序的使用情况，以了解如何为用户提供他们想要的东西。

当我们在这里谈论使用模式时，我们指的是用户随着时间的推移访问给定网站或移动应用程序并与之交互的方式。通过检查这些历史模式，您可以了解用户希望如何与您的网站进行交互，以及哪些功能对他们来说是重要的。这是您在开发新的移动应用程序之前肯定要做的事情。需要回答的一些问题可能是:

**1)你的标准网站最常被访问的部分是什么？**

确定网站的哪些部分是最常被访问的，可以帮助您设计一个对用户真正有用的移动应用程序或移动版本的网站或原生应用程序。将具有所有特性或功能的移动站点作为主站点通常会降低易用性和整体用户体验。

关于网站最受欢迎的特性和部分的历史数据可以给你一个坚实的基础来决定在移动网站上包含哪些特性和功能。此外，一个更加定制的网站或应用程序不会让用户感到困惑，同时当他们不在桌面上或不想打开笔记本电脑时，仍然可以为他们提供所需的大部分功能。它也有助于降低创建一个网站的移动版本的复杂性，并减少创建两种截然不同的用户体验的成本、工作量和总体痛苦。

**2)我的现有用户群中使用移动设备访问网站的比例是多少？**

在投入时间、金钱和精力构建移动解决方案之前，了解有多少用户正在使用移动设备访问网站至关重要。当一个现有网站的移动流量达到总流量的一个很好的百分比时，你会想要让你的努力顺利进行，所以你应该定期监控流量。根据公司的目标和用户基础，每个公司的网站总流量的比例会有所不同，但总的来说，应该有一些迹象表明大量用户已经在通过他们的移动设备访问网站。

**3)拥有一个移动网站将如何推动销售或吸引更多客户，或者仅仅是公司的一个品牌或形象游戏？**

在开发移动网站或应用程序之前，首先要做的一件事就是明确你的商业目标。当推出扩展移动网站功能的新移动应用程序时，深入了解用户当前如何访问标准网站及其使用模式将有助于实现业务目标或进一步盈利。如果推动销售是一个重要的考虑因素，你会想把重点放在帮助用户轻松购物的领域。如果销售不是主要目标，但提升公司形象是主要目标，那么重点可能是向用户提供内容。不管目标是什么，都应该对促进业务目标的特性有一个清晰明确的理解。

一些移动网站和本地应用程序可能只是由一家公司发布，因此它们具有移动存在，可能根本没有经过深思熟虑，只不过是一个简单的博客内容等的 RSS 阅读器。虽然这对读者来说可能很方便，但这些应用实际上只不过是营销手段。它们很好，可能会提升公司的品牌形象，让它们看起来更时尚，但真正花时间去了解移动网站如何吸引和留住更多用户，并使他们进一步参与主网站，将会带来更大的用户保留率和满意度。

**4)移动网站将如何让用户的生活变得更简单或更丰富？**

手机的发明是为了让人们不必被束缚在某个特定的地方就能保持联系。在 20 世纪 80 年代和 90 年代初，大多数人在旅途中只能使用付费电话或寻呼机。移动电话是现代科技的奇迹，它让人们即使在离普通电话很远的地方也能进行交流。这是面向大众的短波广播，移动电话行业出现了爆炸式增长。

对于智能手机来说，电脑本质上是安装在一个具有手机外形的设备上，拥有自己的操作系统和应用程序开发平台。就它给个人和公司带来的便利而言，不可能夸大它的影响。当着手开发一个移动网站或原生应用程序时，从一开始就考虑它将如何改善人们的生活是有帮助的。它会是一个有趣的游戏吗，它会帮助人们保持安全吗，它会帮助他们省钱吗，它会改善他们的家庭生活吗，或者它只是允许用户从任何地方与基于桌面的网站进行交互吗？移动网站或应用程序的用途并不重要，只要清楚:

*   用户需要或想要的东西。
*   它将如何与主网站交互，如果有的话。

请记住，移动用户处理的是减少的屏幕空间，不希望缩放和滚动太多。因为屏幕空间比桌面少，所以应该向移动用户呈现网站或应用程序的简化版本，以确保交互容易而不混乱。

原生网络与移动网络

一个激烈的争论是，是否要使用移动设备的本地编程语言(想想 iOS 的 Objective-C 或 Android 的 Java)和分发技术(应用程序商店、手动安装二进制文件等)，或者使用大多数移动设备上可用的通用跨平台格式创建移动网站，而不需要通过应用程序商店或其他方法安装应用程序二进制文件。许多移动软件平台将用户限制在特定的法律、业务或软件要求范围内，以便使用给定平台的所谓原生功能。这意味着用户在应用程序中可以做什么和可以安装什么受到限制。另一方面，网络没有这些限制，因为它固有的开放性。这就是为什么建立一个移动网站经常受到青睐。

然而，移动网络浏览器是移动网络应用的限制。尽管移动浏览器在功能上有所进步，但它们无法也很可能永远无法像原生编程语言或应用平台那样接近硬件。为了真正利用硬件的力量，应用程序代码和运行它的设备之间需要更少的抽象层，包括对硬件功能的访问，如 GPS 和摄像头。

在制定合理的移动战略的过程中，考虑对用户和企业都有利的更高级的功能是很重要的。例如，在移动设备上使用 GPS 获得的地理位置信息可以用来丰富桌面网站体验和移动体验。例如，一家公司可以举办一场比赛，让用户在他们的移动设备上用该公司的产品自拍，然后让一个移动应用程序将他们的照片上传到他们的主网站。使用移动网站或本地应用程序来丰富标准桌面网站体验是一种常见的做法。从一开始就考虑如何利用移动设备的高级功能和移动性，以及人们在野外时如何利用这些功能将被证明是有利的。

构建一致的体验

无论是通过移动浏览器还是桌面浏览器，只有两者的设计和界面尽可能相似，才能在所有访问网站的方式中建立一致的体验。拥有彼此不集成的完全独立的系统会让用户困惑和沮丧。有许多不同的方法可以在标准桌面浏览器、移动设备和其他设备之间创建一致的体验。让我们来看看实现这一点的三种方法:转换、原生应用和 API。

转换

有一些框架和服务可以利用现有的网站，自动生成移动版本。对于非常简单的网站来说，这可能是一个不错的选择，但是对于有大量内容、特定设计需求或高级功能的大型网站来说，这就不太好了。最常见的方式是通过第三方服务，如图 7-1 所示。

![9781430239697_Fig08-01.jpg](img/images/9781430239697_Fig08-01.jpg)

[图 7-1](#_Fig1) 。*使用第三方服务将标准网站转换为移动版本*

使用本地应用进行集成

这种类型的集成通过私有 API 从网站公开服务，使这些服务(如搜索功能)对本地应用程序可用。这使得移动设备成为网站的强大扩展。

假设我们有一个实时聊天应用程序，它从移动设备获取输入，并通过 XMPP 协议将该信息发送回主聊天服务器(比如 ejabberd，基于 Erlang 的 XMPP 聊天服务器)。然后，聊天服务器保存该信息，直到确定其他用户通过他们的移动设备连接接收聊天。如果该用户不在线，那么它将在更好的时间重新传输。这是一个本地移动应用程序的良好用例示例。使用移动网络创建这种解决方案并不适合这项任务，尽管使用移动网络技术是可能的。在本例中，我们宁愿使用本机应用程序，因为它与聊天服务器后端的集成更紧密，从而获得了本机应用程序的优势。这在移动网络应用中是可能的；但是，它不能像本地应用程序一样保存聊天记录，也不能像一些不使用移动网络的有力理由那样具有良好的性能。

通过 API 集成

通过这种类型的集成，网页的呈现依赖于 API，并且该网站的移动版本绑定到 API，因此构建该网站的移动版本不需要额外的架构来支持。只有网站的表示层不同，但是主站点和移动站点的页面内容是相同或相似的。

这是将移动网站与主网站或 web 应用程序相集成的最优雅的方式，方法是创建一个源 API，其中存储了所有信息和功能，用于与数据集进行交互，移动和标准站点以及本地客户端都与此 API 进行交互，以构建和呈现页面。在大多数情况下，为移动 web 和本机客户端创建一个 API 子集进行交互是构建一个全面的桌面和移动组合的最简单的解决方案，但是一些公司完全基于一个 API 构建他们主要的基于桌面的站点，而桌面站点仅仅是与移动 Web 和本机应用程序相同的 API 的消费者。

这是实现一个网站的移动和桌面版本的最优雅的方式的原因是，用一个 API 来服务两个站点减少了后端的工作量和复杂性。Twitter.com是一个完美的例子，一家公司从与他们的移动网络和本地应用程序相同的 API 或数据源构建其基于桌面的网站。这意味着对功能的升级和改变可以在一个地方完成，并且如果客户端也被更新，则具有与主网站相同的功能和对数据的访问，这减少了保持移动、本地和桌面代码库同步所涉及的工作。

生成网站移动版本的方法之一是使用主站点的底层 API 来生成现有网站的移动格式版本(见[图 7-2](#Fig2) )。这确保了现有网站和移动版本的功能是一致的，并且不需要为移动重写整个应用程序。网站可能完全由一个 API 驱动，调用多个方法来组成一个给定的网页。这是一种将网站的表示层从业务逻辑层中分离出来的强大方法，允许使用单一数据源来呈现常规网站、移动网站和本地应用程序。维特就是使用这种方法的一个例子。

![9781430239697_Fig08-02.jpg](img/images/9781430239697_Fig08-02.jpg)

[图 7-2](#_Fig2) 。*移动客户端和标准网站都通过 API 访问数据*

有了这样的 API，您可以使用任何方法组合向移动消费者发布数据。

跟踪 API 使用情况

当移动网站利用 API 时，与通过移动网站访问内容和数据的用户相比，通过移动 API 访问内容和数据的用户(如使用原生移动应用程序)之间往往存在某种程度的脱节。在这种情况下，对 API 调用的数量或访问的数据类型进行某种分析会有所帮助。有许多第三方服务可以提供这种信息，但是在使用 RESTful API时，通过测量对某个端点的 HTTP 请求的数量，也可以很容易地收集这类指标。例如，如果您想跟踪用户注册的次数，您可以根据访问方法对数据进行排序，例如从本地客户端，然后通过将数据放入图表或某种商业用户的仪表板中来跟踪使用情况。还有像 Flurry([www.flurry.com/](http://www.flurry.com/))这样的软件开发工具包，通过检测应用程序来跟踪用户如何使用应用程序，而不是在 API 层跟踪访问。在后端，也应该监控 API 访问和统计数据。你可以利用这样的应用管理系统，比如 New Relic([www.newrelic.com](http://www.newrelic.com))或者 Hyperic([www.hyperic.com](http://www.hyperic.com))。您会发现许多不同的分析平台可用于跟踪移动应用程序或移动网站以及后端 API 中的用户行为。

摘要

一旦你决定你的公司需要一个移动网站，你就需要考虑制定一个策略，将你公司的主网站与移动网站或移动应用程序整合起来。其中最重要的一步是好好看看访问你现有网站的人。你需要确切地了解他们在你的网站上做什么，他们访问最多的部分，他们使用的功能，以及他们喜欢什么样的设备。当你对这一切有了一个很好的了解之后，你就可以开始考虑什么样的移动体验能够给用户带来他们所需要的东西，而又不会压倒移动设备的较小功能。主网站和移动网站之间的一致性是至关重要的——这不仅使开发和更新更容易，而且还可以最大限度地减少用户在主网站和移动网站之间移动时的困惑。

[<sup>1</sup>](#_Fn1) 戈麦斯公司/方程式研究公司，白皮书，马萨诸塞州列克星敦，2009:为什么移动网络让终端用户失望