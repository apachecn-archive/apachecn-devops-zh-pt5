第
章 5

自动化基础架构和应用供应

构成大型网站基础设施的硬件和软件通常由位于数据中心的一些服务器组成。直到今天，安装和维护这种基础设施在一定程度上仍必须手动完成。在这一章中，我们将讨论随着计算领域的发展，虚拟化(以及云和私有云)基础架构如何最小化这一需求，以及一些流程如何实现自动化。然而，在考虑自动化之前，最好先看看流程目前是如何工作的。

查看 Web 堆栈

对于拥有数百台服务器的大规模网站，安装新的应用服务器、部署新代码或审计系统以检查一致的配置设置等任务变得非常耗时。想象一下在成百上千的服务器上安装一个应用服务器，一次安装一个。这个巨大的任务可以通过编写一个 shell 脚本来减轻，该脚本允许使用一个命令从中央数据存储安装应用服务器。

例如，子网 10.10.20.0/24 中可能有数百台服务器，每台服务器都需要安装一个应用服务器二进制文件并修改配置文件，以便正确的 IP 地址和子网与之相关联。理想情况下，您应该使用一个脚本，将二进制文件自动安装到目标服务器上，然后修改配置文件。使用脚本来自动执行常见的安装和配置任务比手动执行要高效和可靠得多。然而，它仍然容易出错，并且没有任何种类的质量保证检查或验证步骤来确保期望的任务被实际实现。

现在考虑把一个大规模的网站放到网上意味着什么。您需要为服务器安装和配置操作系统以及构成运行 Web 应用程序的基础系统的服务和进程，包括配置网络设置、时间设置、磁盘驱动器和文件系统，然后安装任何必要的软件包。这整个过程被称为供应，你越能自动化，你的生活就越容易。

不过，你必须考虑到所付出的努力。对于一个单一的部署网站，比如一个只有一个数据库和应用服务器的 web 服务器，设置一个自动化安装和配置基础设施的系统可能是不值得的。关于自动化的一个经验法则是，当有高频率的变化或者涉及大量系统时，就要这样做。例如，如果您有 100 台或更多，那么自动化基础架构和应用程序的配置和安装就变得非常重要，即使只是每月进行一次更改。类似地，例如，如果您只有 30 个系统，但它们在不断地重新配置和更新，您还会希望自动化基础架构和应用程序的配置和配置，因为如此频繁地执行如此多的任务可能同样耗时。从本质上讲，只有在构建用于研究目的的一次性原型系统或临时基础设施(比如性能调优或测试新的应用平台)时，自动化才是真正没有意义的。如果某个特定的配置不太可能被再次使用，就应该避免自动化。

自动化孕育了一致的网络环境

当涉及到大型网站基础设施时，您希望尽可能保持系统的一致性。您希望在整个基础架构中使用相同的硬件、软件和功能。然而，维护系统通常是一个手动的或者自动化程度很低的过程，这意味着软件和功能中的不一致性经常被引入，并且可能永远不会被发现，直到后来报告给系统管理团队或者开发团队。随着与网站交互的访问者数量的增加，可能出现的错误数量也会增加。

一致性是再现性的副产品——创建共同的任务，以便它们可以大规模地以自动化的方式重复执行。通常，这意味着以一种无需太多人工干预即可部署和管理的方式设计系统和应用程序。当从一开始就记住自动化时，建立可再现性就容易得多，而不是在事后试图自动化大量不同的手动任务。例如，如果您需要将某个软件包部署到一个新配置的服务器上，并且您当前必须手动选择哪个软件包应该用于哪种服务器类型，这不是很有效率。相反，在已经考虑自动化和可再现性的环境中，服务器将具有与其相关联的某种标签，例如服务器上的文件或 DNS 信息，其告诉配置管理系统请求部署适当的软件包类型。很明显，这种系统可以更容易地再现所需的输出——将正确的软件包发送到服务器，这反过来又会产生更加一致的 Web 应用程序环境。

当您考虑实现自动化时，考虑哪些任务是耗时的并且应该首先解决是有帮助的。在自动化过程中测量效率收益也是很有用的，因为这将让您更清楚地了解哪些流程将从自动化中受益。

[表 5-1](#Tab1) 中的指标是估计值，会根据应用程序源代码的大小、数据集以及安装它们的机器的速度而变化。我们将看到如何通过应用自动化实践来减少寻找需要很长时间的过程和产品的复杂性和时间要求。

[表 5-1](#_Tab1) 。*使用和不使用自动化完成常见任务的预计时间*

| **任务** | **时间(手动)** | **时间(自动)** |
| --- | --- | --- |
| 在裸机硬件上安装 Unix/Linux | 1 小时 | 20 分钟 |
| 编辑 web 服务器配置文件以使用特定的应用程序部署 | 十分钟 | 10 秒 |
| 安装和配置 Hadoop 节点，并将其添加到 Hadoop 集群中 | 1 小时 | 十分钟 |
| 从源代码库中同步安装和配置 Ruby on Rails 应用程序 | 30 分钟 | 1 分钟 |

在自动化之前计算自动化工作量

假设您所在的公司拥有一个现有的基础架构，有 400 个应用程序需要使用新版本的操作系统、新类型的应用服务器和新的代码库进行重新安装。根据[表 5-1](#Tab1) 中的指标，手动执行所有这些操作将需要每台服务器花费 1 小时进行操作系统安装和配置，10 分钟更新 web 服务器，1 小时安装 Hadoop 节点，30 分钟安装 Rails 应用程序。这些指标还显示了通过自动化可以节省多少时间。

为简单起见，假设 Hadoop 数据存储应用程序、web 服务器和应用服务器都运行在同一个 Linux 服务器上。对于这个基本示例，将所有东西安装好并上线总共需要 160 分钟。如果所有安装和配置过程都连续运行，或者一个接一个地运行，而不是同时运行，则每次安装 x 400 台服务器需要 160 分钟，相当于 64，000 分钟，或 1066 小时，或 44 天。

如果有自动化系统，这个时间会大大减少。完成相同工作量所需的工时数从每个系统安装 160 分钟减少到 31 分 10 秒；每次安装大约需要 31 分钟，大约是手动安装时间的五分之一。

请记住，这些只是估计，可能有许多因素会影响结果。如果实现自动化系统所需的成本和时间大于手动执行所需的成本和时间，那么这种努力就不值得。您需要考虑各种因素，例如劳动力成本、自动化系统的预计寿命(自动化系统也需要维护、更新和工程工作)，以及组织在启动和运行后需要多快适应变化。

假设实现一个自动化系统，测试它，并在一个组织中部署它需要 1000 个工时。这应该被考虑到自动化系统的成本中。在前面的示例中，完成为应用程序环境构建 400 台服务器的任务需要 44 天，即 1，066 个小时。有了自动化，构建一个应用服务器来启动和运行一个网站可能只需要很少的时间。然而，假设花了一个月的时间来正确地实现和测试自动化系统，并让员工加快速度来实现效率的提高。你可能要仔细评估它的价值。另一方面，如果第二个 400 台服务器要在下个月建造，那么成本和时间的节省可能会开始生效，更不用说维护时间的节省，以及在不使用自动化时排除错误。重点是，当你在考虑自动化和优化工作的成本和时间节省时，它有助于考虑项目生命周期的整体情况，而不是仅仅考虑自动化系统到位时可能产生的效率收益。在第二个示例中，通过自动化，现在构建相同的 400 台服务器需要 12，400 分钟，构建相同的 400 台服务器需要 206 小时或 8.6 天。

构建、维护和保持 400 台服务器的一致性对任何组织来说都不是一件小事；即使对于像谷歌这样的超级互联网公司来说，这也需要巨大的努力和支出。但是一旦自动化到位，在几天内移动和改变整个基础设施的能力给了该公司更多的灵活性，这在基于网络的商业世界中是至关重要的。一个能够更快移动和变化的企业通常能够击败竞争对手或赢得市场份额。

尽管如此，对于一个只有 10 到 50 台服务器的公司来说，自动化可能没有意义，因为人员配备要求不值得投入所需的时间、精力和技能。在这种情况下，依靠简单的自动化方法(如 shell 脚本和调度任务)可能比复杂的全面配置管理和供应系统更好。

不过，这个原理在一开始还是一样的。始终有必要分析在未优化的流程上花费了多少时间，然后查看实施自动化所需的成本和时间，并根据组织的需求和目标权衡这些成本和时间，然后在做出任何决策或遵循任何趋势或标准之前，根据长期和短期计划权衡这些需求和目标。

选择自动化流程

这听起来是显而易见的，但是在您计划您的系统将如何自动化之前，您需要从所有的利益相关者那里获得输入，包括业务和执行管理。组织中每个任务涉及特定网站的小组都有特定于自己部门的利益，这些利益可能会与其他小组发生冲突。必须就自动化构建和管理 Web 基础设施的目标达成一致，包括成本、时间节约和业务本身的优先级。

当您研究自动化时，请记住，您需要回答自动化 Web 基础设施的内容和方式:什么需要自动化工作以及如何实现自动化。例如，*什么*可能包含在整个部署过程中。例如，代码是预编译的还是应新部署的要求编译的？在安装任何软件之前，包括配置管理或供应框架，您应该考虑*自动化在您的组织中的理想状态，特别是工程师将如何与流程交互。这可以在组织范围的级别上完成，也可以一次在几个部门完成。无论如何，所有的工程师都应该指出流程目前是如何工作的，以及他们希望事情如何工作。这个愿景是决定每个组织特有的自动化技术的重要部分。*

一旦这些概念被分享，它将变得显而易见，哪些具体的软件或组织变化应该被做出，以实现组织的理想自动化的愿景，尽管对于每个组织来说，自动化最关键的方面和过程将是不同的。在任何情况下，让一个工程团队决定如何实现自动化都是灾难性的。这可能会导致其他团队随后撕掉已实现的软件和硬件。它会将一些工程团队抛在脑后，不愿意学习和采用新的实践和工具来引入或改造整个组织的自动化工作。

下面的部分提出了一些决定自动化过程应该是什么样子的讨论点。

买还是建？

组织是应该从头开始构建自动化和配置管理框架，还是购买现成的系统，这是一个偏好、时间、可用预算以及最重要的组织规模的问题。一些组织可能使用现有的开源软件，并根据他们的需要进行定制；其他人可能构建他们自己的软件，最终开源，并让它成为其他公司在未来几年使用的标志。(通常只有少数非常大的公司会这样做，但小公司甚至个人也有能力这样做。)

构建开源自动化框架的相关成本通常非常高，而且这项工作会分散现有工程团队的日常职责，例如支持面向消费者的生产网站及其功能和新产品。然而，在拥有致力于设计新工具以增强日常运营的团队的超大型组织中，由于这些公司的特定需求以及可用的工程资源，内部构建自动化框架可能并不罕见。在一个小公司中，一个非常有动力和才华的工程师有能力构建自动化软件，并且能够在短短的几天、几周或几个月内自己完成。

真正的原因是企业文化和工程团队可用的时间。如果时间是一个组织中的稀缺资源，并且工程项目持续远远落后于计划，那么公司不太可能会为他们的网站设计或需要设计自己的自动化工具。

构建定制的自动化和配置管理框架的优势在于，它可以根据您网站的确切需求和业务流程进行定制。缺点是这种系统需要内部工程团队的持续维护和支持，因为业务流程和功能会随着时间的推移而变化。当然，这对于任何软件决策或多或少都是一样的。

自动化与否？

当谈到计算什么可以自动化时，答案是软件中的几乎所有东西都可以自动化。关键是自动化在构建、配置、管理和修复构成网站的软件上引入了一个抽象层。自动化只是在上面增加了一层或多层抽象。

考虑到这一点，以下是支持组织中大中型生产网站的一些常见任务，无论该网站是面向公众还是供内部使用:

*   构建新的应用程序或 web 服务器
*   将新代码部署到应用程序或 web 服务器
*   为分析或历史趋势处理日志文件

使用配置管理数据库

配置管理数据库或中央数据库旨在保存网络基础设施中所有软件和硬件资源的记录。这是进一步的抽象层，允许集中配置管理系统用来操作的所有对象和信息。它进一步确保了配置管理和其他自动化系统的一致性。其原因是，发生变化的配置数据没有存储在平面配置文件中，也没有存储在配置管理数据库本身中，在配置管理数据库中，信息是分散的，很快就会过时。保持信息集中意味着配置管理系统可以依赖于接收关于基础设施配置的最新数据，例如 IP 地址、主机名和服务器的功能。

[图 5-1](#Fig1) 显示了一个带有配置管理和供应系统的环境，该系统没有利用配置管理数据库(CMDB)。这使得很难找到和收集在网络上安装和配置新服务器和应用程序所需的数据。为了安装或修改，必须将 IP 地址、DNS 和应用程序配置数据输入到配置管理系统中。所有这些信息都必须从文档和电子邮件中收集，这些信息在整个组织中来回传递，没有集中的来源。

![9781430239697_Fig06-01.jpg](images/9781430239697_Fig06-01.jpg)

[图 5-1](#_Fig1) 。*没有配置管理数据库的基础设施配置管理和供应*

相比之下，在图 5-2 中，示例显示配置数据被放入配置管理数据库，这是配置信息的中心来源。这确保了有关可用 IP 地址、主机名、应用程序数据和用于构建 Web 环境的其他组件的所有元数据都来自 CMDB，从而消除了任何冲突，也无需同步来自不可靠来源的数据。执行配置管理和供应过程的任何人都可以确保使用最新的信息来构建 Web 环境。

![9781430239697_Fig06-02.jpg](images/9781430239697_Fig06-02.jpg)

[图 5-2](#_Fig2) 。*使用配置管理数据库*

自动化场景

假设我们有一个多人游戏站点，其中有一个服务器群，包含许多应用程序和消息服务器，用于在多人游戏中与其他玩家进行通信，并产生可视的 Web 界面，玩家可以在这个界面上玩太空射击游戏。

该场中的服务器实际上位于一台 4U 服务器上的虚拟化层。(U 是 RU 的缩写，是 rack unit 的缩写，是对安装在机架中的计算设备高度的度量。一个机架单位(1U)为 1.75 英寸。

在这种情况下，建筑师(我)决定节省数据中心的电力和空间成本，而不是购买 4 台独立的 1U 服务器，而是购买一台高容量 4U 机器，其计算、磁盘空间和内存能力与 4 台独立的 1U 服务器一样多，甚至更多。它还减少了网络开销和延迟(背板吞吐量比铜缆或光纤更快，更不用说交换机的处理开销了)，并且使跟踪变得更简单。当你自动化的时候，事情越简单，就越容易自动化。

现在我有了一台 4U 机器，我想跟踪执行不同功能的各种主机。例如，我不希望我的数据库服务器或数据存储服务器与我的应用程序或 web 服务器运行在同一个系统上，以便更容易跟踪配置。此外，数据库或数据存储服务器可能需要与 Web 服务器或应用服务器完全不同的操作系统或操作系统类型。在 4U 硬件层之上添加虚拟化层，可以更灵活地管理服务器供应和配置管理。虚拟化实现了物理资源的抽象，如内存、磁盘和 CPU，这提供了很大的灵活性，如将一台机器分成许多机器。在这种情况下，我会找到可用 CPU 内核的数量，并根据该数量将我的单个物理机划分为多个虚拟机。例如，如果我的 4U 服务器有 16 个 CPU 内核，我可能会将其分成 4 个或 8 个虚拟机，分别有 4 个或 2 个内核，或者 2 个内核用于 Web 和应用程序服务器，4 个内核用于数据库/数据存储服务器。

虚拟化以另一种方式使创建和设计 Web 自动化基础设施自动化系统变得更加容易。每个虚拟化平台都是不同的，它们总是在发展，但最重要的是，任何虚拟机本质上都是一个文件或一组简单的文件。磁盘驱动器布局、虚拟机中的文件、有关虚拟机硬件的配置信息都存储在一个文件或一组文件中。这使得备份状态信息变得非常容易，许多虚拟化和存储供应商称之为时间点快照。这通常是服务器或虚拟机的文件系统的块级拷贝，存储在文件系统上，这使得回滚或前滚配置更改变得非常容易。理想情况下，您永远不需要回滚或前滚您的系统，但是意外确实会发生，并且当您对 web 基础设施进行大范围的更改时，您会想要额外的安心和保险。

一旦在此场景中实现了虚拟化，您就可以非常快速地在基础架构中构建、停用、重建和部署应用程序和服务器类型。虚拟化让您有可能在一夜之间改变服务器场的功能。例如，如果您有一个作为游戏服务器的应用程序，然后决定要在电子商务商店中销售游戏的品牌产品，您可以完全重建整个基础架构或重新分配资源，这样您可以停用一些游戏服务器，并将它们设置为游戏的在线电子商务商店。得益于虚拟化，您不再需要安装和堆叠物理服务器，也不再需要开车到离办公室有一段距离的数据中心。有了虚拟化层，现在的问题是在您的新应用程序上线之前，选择供应系统应该部署哪个操作系统映像，以及配置管理系统将安装哪些应用程序。在当今竞争激烈的世界中，工程、产品和业务团队能够快速行动并在几天或几周内测试和部署新想法至关重要。

下一步是开发一种管理配置和部署软件的方法，以及自动化质量保证程序的方法。

降低复杂性

在进行任何自动化工作之前，最佳实践是查看现有的和遗留的基础设施和软件，并确定是否有任何东西可以消除或整合。您的系统越简单，未优化和未自动化代码中存在的重复工作越少，您的自动化计划产生的结果就越好。

例如，您可能见过过度设计、令人困惑的遗留应用程序，它们由 50 个不同的软件组件和 3 个不同的数据库组成，除了让用户登录网站之外什么也不做。与其试图将维护这样一个系统最有可能需要的手工操作自动化，不如用一个“合适的部件”来代替这样一个系统，而不是用一堆杂乱的适配器来代替，后者需要大量的自动化工作。移动的部分越多，出错的机会就越多，所以在试图给木偶添加线之前，先看看现有的基础设施是如何组合在一起的，可以说，从长远来看，这将证明是一个巨大的时间节省。

自动化系统是揭示过度复杂的软件、代码、系统和过程的极好的反馈机制。如果在尝试自动化某个软件的安装、部署或配置时，工程师问:“我真的需要它吗？”在大多数情况下，如果有人问这个问题，答案很可能是否定的。因此，它可以从系统中完全删除——少了一件需要维护和跟踪的事情，作为一般原则，这可以提高性能，降低成本和错误，并使工程师及其支持的网站和企业的世界变得更美好。

选择配置管理和供应框架

一旦不同的利益相关者就 Web 基础设施应该如何自动化的过程和步骤达成一致，选择使用哪些工具应该是相当容易的。既然所有的利益相关者都已经讨论了*自动化在组织中应该是什么样子的*，那么计算出*什么样的*软件将完成期望的结果应该不会太困难。

有许多配置管理和供应框架需要考虑。当分析这样的解决方案时，我会说每个网站的做法都是一样的。软件变化很快，通常开放源码软件(或基于开放源码软件的软件)会持续很长时间。您应该确定自动化系统的需求，并决定如果商业或开源解决方案不能满足您的需求，构建自己的自动化系统是否有意义(前提是您有足够的工程能力)。

以下是选择配置管理或供应框架时需要考虑的一些问题:

*   是基于开源软件，还是封闭系统？(如果公司被收购或者倒闭会怎么样。)
*   它是否自动安装服务器并执行配置管理？
*   它有审计和报告功能吗？
*   它允许在不实际执行的情况下模拟变化吗？
*   它是否维护了修订历史和基于时间点回滚更改的方法？
*   工程人员提升的难度有多大？
*   开发和运营人员是否能够学习并快速利用它？
*   它支持多少系统？
*   如何解决与变更的冲突？

审计基础设施

当自动化系统时，可能无法确定系统是否在大量服务器上正确配置。拥有一个审计系统在这方面有所帮助，它允许一个自动化的过程来确定一个非常具体的属性，例如配置文件中的设置，是否在数十、数百或数千个服务器上是一致的。在自动化的情况下，审计仅仅是验证一组服务器上配置的某些方面的完整性。这可能意味着某个版本的 Apache 在任何地方都是正确和一致的，或者某个配置文件在一组服务器上是相同的。事实是，即使有了高级配置管理框架，事情仍然会发生变化和不同步，并且有一种方法来验证服务器、应用程序和配置的状态仍然是自动化的一个重要部分；当整个基础设施出现问题时，这是一种备用方案。

请记住，每个配置管理或自动化框架都有不同的方式来审核基础架构或其中的服务器、操作系统、应用程序及其配置参数的集合。审计一个 web 基础设施的所有方面通常要花费太多的时间，但是当问题出现时，不要考虑必须审计什么，而应该考虑你能负担得起*而不是*审计什么。假设你有一个生产网站的关键问题。也许这个网站每月吸引大约一百万的访问者，每年产生 50 万美元的收入。在所有人都在甲板上之后，问题是找出问题是什么以及如何解决它。在这种情况下，假设问题是应用程序代码的版本不一致。大多数编程语言在应用程序的二进制文件中都有某种清单，它决定了应用程序的哪个版本被部署到 Web 或应用服务器。

现在，一个给定的中型网站基础架构可能包含 50 到 1，000 个 web 服务器和应用服务器。可以说，有大量的操作系统、应用程序、配置文件、参数、旋钮和拨号盘需要转动，以找出可能导致问题并导致网站访问者网站体验不佳的地方。

这时，您需要借助审计软件来确定哪些服务器出了问题。在这种情况下，应用程序二进制文件的不一致版本导致了问题。下一步是找出哪个 web 或应用服务器有问题，这样您就可以确定从哪里开始解决问题。顺便说一下，好的审计框架将允许您创建一个补丁或修复程序，应用于手头的服务器，然后可以将它部署到所有发现有问题的服务器上。

审计中最困难的部分是确定审计什么。这取决于运行的应用程序类型、源代码管理和部署实践、源代码存储库类型、使用的编程语言、操作系统，甚至管理实践和业务需求。在一个可以容忍长时间停机的环境中，比如一个不产生收入的站点，审计需求显然不会像每小时产生数万美元收入的站点那样苛刻。这种环境需要高度受控和自动化的方法来确定问题所在。

在完全虚拟化的环境中，所有应用程序都在某种虚拟化平台上运行，如果没有一个供应框架来重新安装虚拟服务器并将所有应用程序代码重新部署到虚拟服务器上，那么拥有繁重的审计框架或花费大量时间来找出问题所在就没有什么意义了，除非问题非常频繁地重复出现。如果只需 8-15 分钟就可以完全重建一台服务器并重新部署到该服务器上，那么找出可能不正常的特定服务器的问题是没有意义的。

但是，对于固定基础架构或没有服务器虚拟化的基础架构，审核甚至更为重要。在这种情况下，无法使用时间点快照或启动从头开始重建整个服务器(包括应用程序)的过程来自动回滚更改。

![image](images/sq.jpg) **注意**一些配置管理框架会保留数据库中所做的每一次更改的历史，并允许更改的时间点回滚，即使不存在虚拟化。

与虚拟化环境相比，确定应该审核哪些文件、配置和应用程序至关重要，因为在固定环境中出错的可能性较小。有一些解决方案，如源代码管理库，可以解决许多问题，但它们不能解决由系统范围的配置更改导致的问题，如应用内核补丁或更新网卡或磁盘控制器上的固件和设备驱动程序。这种改变通常会产生意想不到的结果，然后就由工程师来决定哪些卡具有有问题的属性，然后逐一解决每个系统。

审计框架可以提供以下好处:

*   发现你不知道存在的问题
*   提高系统和应用程序的性能
*   帮助 Web 基础设施从问题中恢复，否则这将意味着数小时甚至数天的停机时间
*   当 web 基础设施遇到日志或监控系统没有发现的问题时，定位问题

使用配置管理系统自动化部署

将代码部署到生产环境的最简单的方法之一是使用您的配置管理和供应系统来自动化部署。例如，这使您可以轻松地解决依赖关系，如共享库或代码部署正常运行可能需要的其他二进制文件。

大多数配置管理系统基本上将物理和逻辑软件资源抽象成配置文件，然后用描述性的、特定领域的语言编辑这些文件。然后，通过某种引擎应用所需的更改，以在操作系统或应用程序上实现所需的结果。

这些配置管理框架可以与实际将软件二进制文件放到应用程序或 web 服务器上的部署工具进行交互。由于使用公共语言的力量，这对开发和运营团队都非常有用。代替软件开发者处理源代码清单文件和依赖于发布工程师或软件开发者来确定特定环境或应用服务器类型需要哪个版本的文件的操作，配置管理文件可以简单地定义需要哪个版本的应用以及它去哪里，并且所有的依赖性管理和安装将在后台处理，而不需要任何人工干预。不过，不要被愚弄了。仅仅通过购买、构建或实现现有的配置管理系统和依赖解析框架，这并不是一个容易实现的乌托邦。它需要精通自动化实践的操作和开发工程师在后端进行手动测试和工程设计。

摘要

本章讨论了跟踪某些度量标准如何帮助形成自动化策略，并更有效地利用自动化工作。在整个过程中特别重要的是，所有的利益相关者提前制定出自动化将包含的内容。如果可能的话，构建 web 基础设施时应该考虑自动化，利用虚拟化和配置管理系统。如果您正在处理一个现有的 Web 基础设施，并且必须在以后添加自动化，这会增加流程的复杂性。当您设置自动化时，可以考虑以下一些做法:

*   为开发人员提供新的虚拟服务器
*   从 QA 开始负载测试
*   开发自助服务操作实践，例如执行 Web 应用程序安全扫描，并将其提供给 QA、开发等部门
*   开始构建和部署流程，运营或开发都可以执行
*   将传统上完全不同的系统连接在一起，例如通过 API 调用自动将 web 或应用服务器从负载平衡器中拉出

密切关注这些潜在的优化说明了本章的精神以及您可能如何着手您的自动化工作。