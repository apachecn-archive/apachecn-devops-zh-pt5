# 1.DevOps 是什么？

Electronic supplementary material The online version of this chapter (doi:[10.​1007/​978-1-4842-1446-6_​1](http://dx.doi.org/10.1007/978-1-4842-1446-6_1)) contains supplementary material, which is available to authorized users.

你最近可能听说过很多关于 DevOps 这个术语。Gartner 甚至声明 2016 年是 DevOps 年( [`http://www.gartner.com/newsroom/id/2999017`](http://www.gartner.com/newsroom/id/2999017) )。DevOps 不仅仅是一个营销术语吗？还是只是有人制造的一些炒作？

## 我们为什么要做 DevOps？

软件开发仍然是一个年轻的行业。作为一个行业，它正在快速发展，并试图变得更好。成长是非常必要的。软件开发行业在按时按预算生产软件方面名声不佳。在现在所谓的瀑布过程中，软件是在几个不连续的步骤中开发的。在图 [1-1](#Fig1) 中，你可以看到一个典型的项目用来开发软件的步骤。所有这些阶段一个接一个，总时间跨度可能是几个月甚至几年。

![A346706_1_En_1_Fig1_HTML.jpg](A346706_1_En_1_Fig1_HTML.jpg)

图 1-1。

Stages in a waterfall project

其他行业使用同样的不同步骤。例如，考虑一个城市街区，那里所有的房子都建得看起来一样。有必要对建造房子的所有步骤有一个清晰的说明，然后对所有的房子重复这些步骤，直到积木完成。软件不一样。客户不会要求开发人员为他们构建同一产品的多个副本。相反，每个项目都是独特的。开发团队总是在构建新的东西。想要新东西的问题是，你不知道你到底想要什么，因为你首先要想出一个主意。软件开发组织认为解决方案是创建更好的规范。创建的文档变得越来越大。当然，创建一个详细的前期规范需要很多时间。所以客户被要求签署那些文件，然后把它们当作绝对的真理。

在第一个分析阶段以详细的规范结束后，接下来是设计、代码和测试阶段。在第一次通过这些步骤后，向客户演示一个工作版本。客户第一次看到他的想法的工作版本时，他对自己实际需要什么有了更好的了解。也许顾客想要一些小变化，或者他决定要完全不同的东西。这已经困扰了软件行业很长一段时间，并导致了软件行业构建错误的东西的名声，同时错过了最后期限并花费了比承诺更多的钱。这是软件行业迈出的一大步:敏捷的开始。

2001 年，敏捷宣言发布了。敏捷宣言可以被看作是对软件开发所处状态的回应。敏捷宣言陈述了几个简单的价值观:

> We find better ways to develop software by doing it ourselves and helping others. Through this work, we realized the value: the importance of individuals and interactions to processes and tools, the importance of software to comprehensive documents, the importance of customer cooperation to contract negotiation, and the importance of response to changes to plans. That is to say, although the items on the right are valuable, we pay more attention to the items on the left. —— Agile Manifesto

敏捷宣言给软件行业带来了很多变化。开发团队不再编写厚厚的文档，而是开始与客户实际合作。客户改变主意的事实不再被认为是团队需要避免的事情。相反，团队接受客户改变主意，并且他们有权这样做。软件开发团队开始与他们的客户一起工作。因此，团队开始通过交付小的迭代和响应变化，让客户参与到过程中，而不是在产品上工作几个月甚至几年，然后最终展示给客户。

基于敏捷宣言的最流行的方法是 Scrum。Scrum 有几个关键要素。团队是自组织的，所有需要的角色都在其中。团队以称为 Sprints 的短迭代工作。团队由产品负责人领导，最好是客户。产品负责人通过不断地重新确定优先级，并确保团队交付最大的商业价值，来帮助团队不断地适应变化。

Scrum 起飞了。它获得了巨大的成功。很多团队喜欢这个想法，当我在一次开发者大会上问谁在做 Scrum 时，我通常会看到所有人都举手！(这并不代表每个人都做对了。有些团队只觉得自己在做 Scrum。)

故事并没有随着敏捷和 Scrum 的发明而结束。如果一个团队很好地实践了敏捷，这个团队将会加快速度。在产品所有者的帮助下，开发人员将创建新功能的稳定版本。敏捷是解决方案的一部分，但我们需要更多。成功的敏捷团队仍然有障碍。

测试人员经常在敏捷组织中挣扎。他们总是试图跟上开发商的步伐。测试人员的纪律正在改变，我看到测试人员和开发人员之间的区别正在变得模糊。测试人员和开发人员经常配对或者融合成一个多技能的开发人员角色。当测试人员努力跟上时，对于操作团队来说情况更糟。这些团队通常在另一个部门。他们负责运行数据中心，并负责部署开发团队创建的应用程序，同时确保一切正常运行。这导致了孤岛，即不同部门的不同团队向不同职责的不同经理报告。运营团队负责确保软件的稳定性。开发团队负责尽快推出新功能。测试人员被夹在中间，企业只看到他们需要的东西需要太长时间才能得到。

自从引入敏捷以来，软件世界发生了更大的变化。移动系统和云是巨大的游戏改变者。客户改变了他们与公司互动的方式，初创公司利用了这一点。像优步这样的公司突然与常规出租车行业展开竞争。PayPal 是一家软件公司，与银行竞争。网飞彻底改变了人们看电视的方式。这些公司是如何成功的？

这就是 DevOps 的用武之地。DevOps 帮助敏捷充分实现其潜力。关于 DevOps 的定义众说纷纭，但我喜欢下面的定义:

> DevOps is a combination of people, processes and products, which can continuously deliver value to our end users. —— Donovan Brown, senior project manager of Microsoft DevOps

关键词是持续交付价值。敏捷帮助软件行业响应客户需求并跟上变化，而 DevOps 是真正将价值交付到最终用户手中的关键。DevOps 不仅仅是工具。DevOps 是整个组织共同努力为客户创造价值。这使得开发运维在选择正确的工具的同时，也关注了人员和流程。DevOps 帮助您优化所谓的软件交付管道，包括将软件从一个想法送到最终用户手中。通过将 DevOps 模式付诸实践，像网飞、脸书、亚马逊、推特、谷歌和微软这样的组织正在达到使用敏捷时无法想象的性能水平。这些组织不是一年部署一次，甚至不是一周部署一次。相反，他们一天部署多次，同时提供稳定可靠的用户体验。

DevOps 这个词是开发人员和运营人员的缩写。在敏捷中，你听不到任何关于运营团队的说法。但是它们对于交付一个成功的应用程序是非常必要的。DevOps 打破了开发团队和运营之间的孤岛。实践 DevOps 的组织采用敏捷的原则，并将其扩展到包括所有各方——业务、开发、测试和操作——来创建、部署和运行成功的应用程序。

虽然 DevOps 不仅仅是关于工具，工具也很重要。这个工具必须支持敏捷过程，并优化交付管道。工具可以帮助自动化容易出错、耗时的任务，如部署应用程序和运行回归测试。这本书帮助你发现微软提供的工具。您将了解微软如何支持您的 Agile 和 DevOps 流程，并确保它们融合到一个交付管道中，为您的最终用户优化价值。图 [1-2](#Fig2) 展示了微软如何看待 DevOps 的直观概述。

![A346706_1_En_1_Fig2_HTML.jpg](A346706_1_En_1_Fig2_HTML.jpg)

图 1-2。

The different parts that make up a DevOps process

一个同时实施敏捷方法和 DevOps 过程的团队是一个可以做不可思议的事情的团队。他们可以如此快速地对变更做出响应，以至于构建软件成为了一项业务优势。成功做到这一点的团队和组织是高绩效的组织。

这就是为什么敏捷、开发运维以及应用生命周期管理的整个过程不是炒作，也不仅仅是空洞的营销术语。它们是真正有价值的技术。然而，实现它们并不像看起来那么容易。

## 评估您的开发运维能力

要了解实现 DevOps 需要做什么，首先需要知道自己现在在哪里。开始的一个好方法是查看开发运维团队通常拥有的实践(参见图 [1-3](#Fig3) )。

![A346706_1_En_1_Fig3_HTML.jpg](A346706_1_En_1_Fig3_HTML.jpg)

图 1-3。

Practices of a DevOps team

一个团队从一个敏捷时间表开始，并成为一个真正的敏捷团队。这意味着他们有自制力，有他们需要的所有人和角色。他们遵循敏捷的时间表，这意味着他们在短时间内工作，并不断尝试适应不断变化的客户需求、不断变化的市场和其他环境。他们还试图不断改进他们所做的一切。你应该看的第二件事是你工作的质量。如果你制造了大量的 bug，你的代码是不可能维护的，但是你提高了你的速度，这可能意味着你正在制造更差的代码，释放更多的 bug。

DevOps 团队试图创造持续的价值流。价值流意味着你可以快速地从一个想法一直到生产。为了实现这一点，孤岛消失了，多学科团队应运而生。通过自动化部署、测试和基础架构操作，新功能可以在几分钟内投入生产。

敏捷帮助团队创建一个 backlog，这是一个具有真正客户价值的优先特性列表。产品负责人有区分特性优先级的困难任务。洞察客户的行为有助于产品负责人优先考虑正确的功能。通过创建一个假设(如果我改变特性 X，Y，更多的用户将会 Z ),然后在生产中测量这是否是真的，您创建了一个基于假设的 backlog。你不再猜测客户想要什么，而是开始创建小实验，并与真实客户一起运行这些实验。这可以推动你的产品走向。

能够快速部署变更、监控结果并根据实际使用情况进行扩展是一项业务优势。为了实现这种敏捷性，灵活的基础架构是一个巨大的优势。这就是为什么云被称为 DevOps 团队的实践之一。微软为你提供了一个优秀的云解决方案，你可以私下、公开或混合使用，叫做微软 Azure。Microsoft Azure 包含各种基础设施服务，允许您利用快速部署、监控结果，然后按需扩展。提供这些服务的灵活基础架构确实有助于您的公司成为 DevOps 组织。

如您所见，DevOps 是一个庞大的主题。知道你已经有哪些实践，以及你可以在哪里改进可能是困难的。为了帮助你做到这一点，微软发布了一个自我评估工具，你可以用它在 DevOps 的七个关键领域给自己打分。你可以在 [`http://devopsassessment.azurewebsites.net`](http://devopsassessment.azurewebsites.net) 找到这个评估(见图 [1-4](#Fig4) )。我鼓励您参加此评估，了解 DevOps 能为您的组织做些什么。这也将把接下来的章节放入上下文中。

![A346706_1_En_1_Fig4_HTML.jpg](A346706_1_En_1_Fig4_HTML.jpg)

图 1-4。

The Microsoft DevOps self-assessment is a great way to get started

## 摘要

在这一章中，你已经阅读了软件业运动的简史，从瀑布到敏捷再到开发运维。您已经了解到实施开发运维的组织拥有巨大的优势，并以更高的速度交付最终用户价值。您已经看到，DevOps 不仅与工具有关，还与打破孤岛和优化从创意到最终用户手中的价值流有关。您还参加了 DevOps 评估来帮助您起步。

在你深入 DevOps 之前，下一章向你介绍两个你将在本书的其余部分使用的基本工具:Azure 和 Visual Studio Team Services。